<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="styles.css">
    <link rel="script" href="script.js">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  <title>PWA1 - Web-App-Manifest</title>
</head>
<body>

<div class="wrapper">
  <!-- Sidebar  -->
    <nav id="sidebar">
        <div class="sidebar-header">
            <h3>PWA Wizard</h3>
        </div>

        <ul class="list-unstyled components">
            <p>Kapitel</p>

            <li class="active">
                <a href="index.html" aria-expanded="false" class="dropdown-toggle">Startseite</a>
            </li>

            <li class="active">
                <a href="pwa0.html"  aria-expanded="false" class="dropdown-toggle">Beispiel</a>
            </li>

            <li class="active">
                <a style="font-size: small; text-indent:20px" href="Datenbank.html"
                   aria-expanded="false" class="dropdown-toggle">- Datenbank</a>
            </li>

            <li class="active">
                <a style="font-size: small; text-indent:20px" href="Funktionsweise.html"
                   aria-expanded="false" class="dropdown-toggle">- Funktionsweise</a>
            </li>

            <li class="active">
                <a href="pwa1.html"  aria-expanded="false" class="dropdown-toggle">Ausführung 1</a>
            </li>

            <li style="background-color: lightgrey">
                <a style="font-size: small; text-indent:20px" href="Manifest.html"
                   aria-expanded="false" class="dropdown-toggle">- Web-App-Manifest</a>
            </li>

            <li class="active">
                <a style="font-size: small; text-indent:20px" href="ServiceWorker.html"
                   aria-expanded="false" class="dropdown-toggle">- ServiceWorker</a>
            </li>

            <li class="active">
                <a style="font-size: small; text-indent:20px" href="Fallbackpage.html"
                   aria-expanded="false" class="dropdown-toggle">- Fallbackpage</a>
            </li>

            <li class="active">
                <a style="font-size: small; text-indent:20px" href="WebAPI.html"
                   aria-expanded="false" class="dropdown-toggle">- Web-API</a>
            </li>

            <li class="active">
                <a href="pwa2.html"  aria-expanded="false" class="dropdown-toggle">Ausführung 2</a>
            </li>

            <li class="active">
                <a href="pwa3.html"  aria-expanded="false" class="dropdown-toggle">Ausführung 3</a>
            </li>
        </ul>
    </nav>

  <!-- Page Content  -->
  <div id="content" class="text-left border border-primary mt-3 mb-3">
    <h2>Web-App-Manifest</h2>

    Der erste Schritt für die Erstellung der ersten Ausführung von PWAs ist das Web-App-Manifest.
    Dieses befindet sich im root-Verzeichnis des Projektes und beschreibt die Eigenschaften einer PWA.
    Das macht die PWA über den Browser für alle Endgeräte installierbar.
    Die Datei liegt im JSON Format vor (.JSON oder .webmanifest) und wird im Head aller
    HTML-Seiten verlinkt.

    <div class="border border-primary mb-2 mt-2"><pre><code>
&ltlink rel="manifest" href="manifest.webmanifest"&gt
        </code></pre></div>

    Das Manifest wird von Chrome, Edge, Opera, Firefox, UC Browser
    und dem Browser von Samsung vollständig unterstützt.
    Da die Anforderungen der verschiedenen Browser an ein Web-App-Manifest
    teilweise etwas voneinander abweichen, wird der Wizard sich auf die
    Anforderungen von Google Chrome stützen.
    Lediglich Safari unterstützt das Web-App-Manifest nur teilweise.
    Welche Anforderungen sich konkret voneinander unterscheiden,
    ist <a href="https://web.dev/install-criteria/">hier</a> zu finden.

    Die Mindestanforderungen für ein Web-App-Manifest in Chrome sind die folgenden:

      <ul>
        <li> short\_name oder name</li>
        <li> 192x192 Icon</li>
        <li> 512x512 Icon</li>
        <li> start_url</li>
        <li> display - muss auf fullscreen, standalone oder minimal-ui gesetzt sein</li>
        <li> prefer_related_applications darf nicht vorhanden sein oder muss auf false gesetzt werden</li>
      </ul>

    Weitere Elemente, die im Web-App-Manifest gesetzt werden können, sind <a href=" https://web.dev/add-manifest/">hier</a> zu finden.

    Eine der Eigenschaften von "name" oder "short_name" muss enthalten sein.
    Bei einem längeren Namen der PWA kann es jedoch auch durchaus sinnvoll sein, beide Eigenschaften anzugeben.
    Wenn beide angegeben werden, wird die Eigenschaft "short_name" an Stellen verwendet, an denen der
    Platz begrenzt ist. Die Eigenschaft "name" wird hingegen angezeigt, wenn die App installiert wurde.

    Das Web-App-Manifest muss mindestens ein Icon der Größe 192x192 und eins der Größe 512x512 im enthalten.
    Die Eigenschaft Icon ist ein Array und kann beliebig viele Icons enthalten.
    Jedes Icon muss dabei eine Quelle ("src"), einen Typ ("type") und eine Größe ("size") als Attribut haben.
    Des Weiteren sollte es mindestens ein Icon mit "purpuse": "maskable any"
    für die Unterstüzung des Betriebssystems Android geben.

    Die Eigenschaft "start_url" im Manifest gibt an, wo die Anwendung gestartet werden soll.

    Mit Hilfe der Eigenschaft "display" kann eingestellt werden, wie die PWA dargestellt werden soll.
    Standalone ist dabei die Eigenschaft, mit der die PWA noch mehr wie eine native App aussieht,
    da keine URL oder andere für Browser typischen Dinge angezeigt werden.

    <div class="border border-primary mb-2 mt-2"><pre><code>
{
  "name": "PWA 1",
  "short_name": "PWA 1",
  "start_url": "http://localhost/",
  "description": "Fallbackpage, no offline usage",
  "display": "standalone",
  "background_color": "#8BEF9B",
  "theme_color": "#0032FF",
  "orientation": "portrait-primary",
  "icons": [
    {
      "src": "icon/icon192.png",
      "type": "image/png",
      "sizes": "192x192",
      "purpose": "maskable any"
    },
    {
      "src": "icon/icon512.png",
      "type": "image/png",
      "sizes": "512x512",
      "purpose": "maskable any"
    }
  ]
}
        </code></pre></div>
      Das Web-App-Manifest des Beispiels enthält neben den Mindestanforderungen noch einige andere Eigenschaften, wie eine Beschreibung ("description")
      sowie die Farbgebung der PWA als installiert Version auf dem Smartphone ("background_color" und "theme_color") und die Orientierung ("orientation").
      Die Orientierung gibt an, wie die PWA geöffnet wird. Im Fall des Beispiels im Portait-Modus.
      Des Weiteren sind neben den beiden gezeigten noch 6 weitere Icons in anderen Größen im Web-App-Manifest enthalten.
      Je mehr größen angegeben werden, desto besser kann sich das entsprechende Endgerät aussuchen, welches Icongröße am besten passt.
        <br>
      <br>
      Um nach der Fertigstellung des Web-App-Manifests zu überprüfen, ob es richtig eingebunden ist und der Browser alle eingegeben Elemente erkennt,
      kann in Chrome mit Rechtsklick "Untersuchen" ausgewählt werden.
      Darauf hin kann unter "Application" das Manifest ausgewählt und auf Fehler geprüft werden.
      <br>
      <br>
    <img class="image-thumbnail" src="img/WAM_Chrome.png" alt="Manifest in Chrome">
      <br>
      <br>

      Dabei werden, bei richtiger Einbindung, alle im Manifest festgelegten Bestandteile aufgelistet.
      Bei Fehlern, die Art des Einbinden und die Rechtschreibung der Attribute des Manifests überprüfen.
      <br>
      Im Beispiel sieht man, dass alle Eigenschaften der Manifest-Datei auch im Browser angezeigt werden und somit funktionieren.
      <br>
      <br>
      Aufgrund dessen, dass das Apple Betriebssystem, für deren Smartphones, iOS die "icons" und die "theme_color" nicht unterstützt,
      muss die PWA dahingehend etwas modifiziert werden.
      <br>
      Für die Unterstützung des Icon auf dem Homebildschirm muss dabei im Head jeder HTML-Seite eine Verlinkung zu dem Icon eingebunden werden, das bei iOS-Benutzern verwendet werden soll.
      <div class="border border-primary mb-2 mt-2"><pre><code>
&ltlink rel="apple-touch-icon" href="icon/icon96.png"&gt
      </code></pre></div>
      <br>
      <br>
      Der Ersatz der "heme_color" muss ebenfalls im Head jeder HTML-Seite wie folgt verlinkt sein.
      <div class="border border-primary mb-2 mt-2"><pre><code>
&ltmeta name="apple-mobile-web-app-status-bar" content="#0032FF"&gt
      </code></pre></div>
      <br>
      <br>
      Außerdem muss für die PWA-Optimierung für alle Betriebssysteme neben dem Festlegen der "theme_color" im Web-App-Manifest, diese ebenfalls im Head jeder HTML-Seite hinterlegt sein.
      <div class="border border-primary mb-2 mt-2"><pre><code>
&ltmeta name="theme-color" content="#0032FF"&gt
      </code></pre></div>

  </div>
</div>
</body>
</html>